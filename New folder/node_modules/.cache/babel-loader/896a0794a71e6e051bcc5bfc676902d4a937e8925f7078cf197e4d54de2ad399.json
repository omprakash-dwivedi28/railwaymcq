{"ast":null,"code":"import React,{useState,useEffect,useContext}from\"react\";import axios from\"axios\";import\"./feedback.css\";// Import CSS file\nimport{useInitialContext}from\"../context/InitialContext\";import ShowFeedback from\"./ShowFeedback\";// Axios Instance\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ai=axios.create({baseURL:\"https://railwaymcq.com/student/dbfeedback_api.php\"});export default function FeedBack_user(props){const[formData,setFormData]=useState({zone:\"\",division:\"\",deptt:\"\",message:\"\",message_by:\"\"});const{railwayInfo,zoneAndDivisionInfo,SetZoneAndDivision}=useInitialContext();// Accessing zone and division data from context\nconst{zoneAndDivisionData}=useInitialContext();const handleChange=e=>{const{name,value}=e.target;setFormData(prevState=>({...prevState,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{console.log(\"Form Data:\",JSON.stringify(formData,null,2));const response=await axios.post(\"https://railwaymcq.com/student/dbfeedback_api.php\",formData);console.log(\"Data added successfully:\",response.data);alert(\"Data added successfully\");setFormData({zone:\"\",division:\"\",deptt:\"\",message:\"\",message_by:\"\"});}catch(error){console.error(\"Error adding data:\",error);}};useEffect(()=>{SetZoneAndDivision();},[SetZoneAndDivision]);return/*#__PURE__*/_jsx(\"div\",{className:\"feedback-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h6\",{children:props.heading}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",name:\"zone\",value:formData.zone,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Please select Zone\"}),zoneAndDivisionData&&zoneAndDivisionData.map((zones,index)=>Object.entries(zones).map((_ref,index)=>{let[zone]=_ref;return/*#__PURE__*/_jsx(\"option\",{value:zone,children:zone},index);}))]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",name:\"division\",value:formData.division,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Please select Division\"}),console.log(formData.zone),zoneAndDivisionData===null||zoneAndDivisionData===void 0?void 0:zoneAndDivisionData.map((zones,zoneIndex)=>{var _Object$entries;return(_Object$entries=Object.entries(zones))===null||_Object$entries===void 0?void 0:_Object$entries.map(_ref2=>{let[zone,divisions]=_ref2;if(zone===formData.zone){return divisions.map((division,divisionIndex)=>{return/*#__PURE__*/_jsx(\"option\",{value:division,children:division},divisionIndex);});}return null;// Return value for map\n});})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",name:\"deptt\",value:formData.deptt,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Please select Department\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GEN. ELECTRICAL\",children:\"GEN. ELECTRICAL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"TRD\",children:\"TRD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"TRS\",children:\"TRS\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mybox\",className:\"form-label\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Please feel free to leave any Feedback here\"})}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"message\",value:formData.message,onChange:handleChange,className:\"form-control\",id:\"myBox\",rows:\"4\",col:\"8\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"custom-textbox\"// Apply custom class for styling\n,name:\"message_by\",value:formData.message_by,onChange:handleChange,placeholder:\"Enter your good name please...\"// placeholder={a.name}\n}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Save Feedback\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","useInitialContext","ShowFeedback","jsx","_jsx","jsxs","_jsxs","ai","create","baseURL","FeedBack_user","props","formData","setFormData","zone","division","deptt","message","message_by","railwayInfo","zoneAndDivisionInfo","SetZoneAndDivision","zoneAndDivisionData","handleChange","e","name","value","target","prevState","handleSubmit","preventDefault","console","log","JSON","stringify","response","post","data","alert","error","className","children","onSubmit","heading","onChange","map","zones","index","Object","entries","_ref","zoneIndex","_Object$entries","_ref2","divisions","divisionIndex","htmlFor","type","id","rows","col","placeholder"],"sources":["C:/Users/hp/Desktop/project/test/src/Component/FeedBack_user.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./feedback.css\"; // Import CSS file\r\nimport { useInitialContext } from \"../context/InitialContext\";\r\nimport ShowFeedback from \"./ShowFeedback\";\r\n\r\n// Axios Instance\r\nconst ai = axios.create({\r\n  baseURL: \"https://railwaymcq.com/student/dbfeedback_api.php\",\r\n});\r\n\r\nexport default function FeedBack_user(props) {\r\n  const [formData, setFormData] = useState({\r\n    zone: \"\",\r\n    division: \"\",\r\n    deptt: \"\",\r\n    message: \"\",\r\n    message_by: \"\",\r\n  });\r\n\r\n  const { railwayInfo, zoneAndDivisionInfo, SetZoneAndDivision } =\r\n    useInitialContext(); // Accessing zone and division data from context\r\n  const { zoneAndDivisionData } = useInitialContext();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setFormData((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      console.log(\"Form Data:\", JSON.stringify(formData, null, 2));\r\n\r\n      const response = await axios.post(\r\n        \"https://railwaymcq.com/student/dbfeedback_api.php\",\r\n        formData\r\n      );\r\n      console.log(\"Data added successfully:\", response.data);\r\n      alert(\"Data added successfully\");\r\n      setFormData({\r\n        zone: \"\",\r\n        division: \"\",\r\n        deptt: \"\",\r\n        message: \"\",\r\n        message_by: \"\",\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error adding data:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    SetZoneAndDivision();\r\n  }, [SetZoneAndDivision]);\r\n\r\n  return (\r\n    <div className=\"feedback-container\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h6>{props.heading}</h6>\r\n        <select\r\n          className=\"form-select\"\r\n          name=\"zone\"\r\n          value={formData.zone}\r\n          onChange={handleChange}\r\n        >\r\n          <option value=\"\">Please select Zone</option>\r\n          {zoneAndDivisionData &&\r\n            zoneAndDivisionData.map((zones, index) =>\r\n              Object.entries(zones).map(([zone], index) => {\r\n                return (\r\n                  <option key={index} value={zone}>\r\n                    {zone}\r\n                  </option>\r\n                );\r\n              })\r\n            )}\r\n        </select>\r\n\r\n        <select\r\n          className=\"form-select\"\r\n          name=\"division\"\r\n          value={formData.division}\r\n          onChange={handleChange}\r\n        >\r\n          <option>Please select Division</option>\r\n          {console.log(formData.zone)}\r\n          {zoneAndDivisionData?.map((zones, zoneIndex) => {\r\n            return Object.entries(zones)?.map(([zone, divisions]) => {\r\n              if (zone === formData.zone) {\r\n                return divisions.map((division, divisionIndex) => {\r\n                  return (\r\n                    <option key={divisionIndex} value={division}>\r\n                      {division}\r\n                    </option>\r\n                  );\r\n                });\r\n              }\r\n              return null; // Return value for map\r\n            });\r\n          })}\r\n        </select>\r\n\r\n        {/* Other form inputs */}\r\n\r\n        <select\r\n          className=\"form-select\"\r\n          name=\"deptt\"\r\n          value={formData.deptt}\r\n          onChange={handleChange}\r\n        >\r\n          <option>Please select Department</option>\r\n          <option value=\"GEN. ELECTRICAL\">GEN. ELECTRICAL</option>\r\n          <option value=\"TRD\">TRD</option>\r\n          <option value=\"TRS\">TRS</option>\r\n        </select>\r\n        <label htmlFor=\"mybox\" className=\"form-label\">\r\n          <strong>Please feel free to leave any Feedback here</strong>\r\n        </label>\r\n        <textarea\r\n          type=\"text\"\r\n          name=\"message\"\r\n          value={formData.message}\r\n          onChange={handleChange}\r\n          className=\"form-control\"\r\n          id=\"myBox\"\r\n          rows=\"4\"\r\n          col=\"8\"\r\n        ></textarea>\r\n\r\n        <input\r\n          type=\"text\"\r\n          className=\"custom-textbox\" // Apply custom class for styling\r\n          name=\"message_by\"\r\n          value={formData.message_by}\r\n          onChange={handleChange}\r\n          placeholder=\"Enter your good name please...\"\r\n          // placeholder={a.name}\r\n        />\r\n\r\n        {/*End of other inputs  */}\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Save Feedback\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}