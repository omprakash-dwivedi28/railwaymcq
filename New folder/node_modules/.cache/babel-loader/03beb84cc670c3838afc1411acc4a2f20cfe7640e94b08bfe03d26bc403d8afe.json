{"ast":null,"code":"import React,{Component,useState,useEffect}from\"react\";import axios from\"axios\";// Axios Instance\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ai=axios.create({baseURL:\"http://127.0.0.1:8000/\"});//console.log(ai);\nconst Plan=()=>{var _state$items;const[state,setState]=useState({items:[],text:\"\"});const[btn,setBtn]=useState(0);const showPlan=()=>{ai.get(\"plan/list/\").then(res=>{console.log(res.data);setState({items:res.data});});};const addPlan=d=>{console.log(\"Value of d is:-\"+d.value);if(state.text!==\"\"){ai.post(\"plan/create/\",d).then(res=>{setState({text:\"\"});showPlan();});}};const handleChange=e=>{setState({text:e.target.value});};const handleAdd=d=>{let dt={item:state===null||state===void 0?void 0:state.text};addPlan(dt);setBtn(btn+1);};const handleDelete=id=>{// console.log(\"Deleted\", id);\n// alert(id);\nai.delete(\"plan/delete/\".concat(id)).then(res=>{showPlan();});};useEffect(()=>{showPlan();},[btn]);return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6 mx-auto text-white shadow-lg p-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\" Today's Plan \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Write Plan Here\",value:state.text,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning px-5 font-weight-bold\",onClick:handleAdd,children:\"Add\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"conatiner\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled row m-5\",children:state===null||state===void 0?void 0:(_state$items=state.items)===null||_state$items===void 0?void 0:_state$items.map((value,i)=>{console.log(value.id,value.item);return/*#__PURE__*/_jsxs(\"button\",{className:\"flex-growd-flex justify-content-left\",id:value.id,value:value.item,sendData:handleDelete,children:[value.id,\" - \",value.item,/*#__PURE__*/_jsxs(\"button\",{class:\"btn btn-danger delete-btn\",onClick:()=>handleDelete(value.id),children:[\"Delete\",\" \"]})]},i);})})})]})]})})});};export default Plan;","map":{"version":3,"names":["React","Component","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ai","create","baseURL","Plan","_state$items","state","setState","items","text","btn","setBtn","showPlan","get","then","res","console","log","data","addPlan","d","value","post","handleChange","e","target","handleAdd","dt","item","handleDelete","id","delete","concat","className","children","type","placeholder","onChange","onClick","map","i","sendData","class"],"sources":["C:/Users/hp/Desktop/project/test/src/Component/Plan.js"],"sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// Axios Instance\r\nconst ai = axios.create({\r\n  baseURL: \"http://127.0.0.1:8000/\",\r\n});\r\n//console.log(ai);\r\nconst Plan = () => {\r\n  const [state, setState] = useState({\r\n    items: [],\r\n    text: \"\",\r\n  });\r\n  const [btn, setBtn] = useState(0);\r\n  const showPlan = () => {\r\n    ai.get(\"plan/list/\").then((res) => {\r\n      console.log(res.data);\r\n      setState({ items: res.data });\r\n    });\r\n  };\r\n  const addPlan = (d) => {\r\n    console.log(\"Value of d is:-\" + d.value);\r\n    if (state.text !== \"\") {\r\n      ai.post(\"plan/create/\", d).then((res) => {\r\n        setState({ text: \"\" });\r\n        showPlan();\r\n      });\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    setState({ text: e.target.value });\r\n  };\r\n  const handleAdd = (d) => {\r\n    let dt = { item: state?.text };\r\n    addPlan(dt);\r\n    setBtn(btn + 1);\r\n  };\r\n  const handleDelete = (id) => {\r\n    // console.log(\"Deleted\", id);\r\n    // alert(id);\r\n    ai.delete(`plan/delete/${id}`).then((res) => {\r\n      showPlan();\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    showPlan();\r\n  }, [btn]);\r\n\r\n  return (\r\n    <div className=\"container-fluid my-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-6 mx-auto text-white shadow-lg p-3\">\r\n          <h2 className=\"text-center\"> Today's Plan </h2>\r\n          <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n              <div className=\"col-9\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Write Plan Here\"\r\n                  value={state.text}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <button\r\n                  className=\"btn btn-warning px-5 font-weight-bold\"\r\n                  onClick={handleAdd}\r\n                >\r\n                  Add\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"conatiner\">\r\n              <ul className=\"list-unstyled row m-5\">\r\n                {state?.items?.map((value, i) => {\r\n                  console.log(value.id, value.item);\r\n                  return (\r\n                    <button\r\n                      className=\"flex-growd-flex justify-content-left\"\r\n                      key={i}\r\n                      id={value.id}\r\n                      value={value.item}\r\n                      sendData={handleDelete}\r\n                    >\r\n                      {value.id} - {value.item}\r\n                      <button\r\n                        class=\"btn btn-danger delete-btn\"\r\n                        onClick={() => handleDelete(value.id)}\r\n                      >\r\n                        Delete{\" \"}\r\n                      </button>\r\n                    </button>\r\n                  );\r\n                })}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Plan;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}