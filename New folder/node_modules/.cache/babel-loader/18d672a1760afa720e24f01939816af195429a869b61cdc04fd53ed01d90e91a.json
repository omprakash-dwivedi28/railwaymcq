{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QbankMaster=()=>{const[formData,setFormData]=useState({subcode:\"\",// Initial value should match this\ntopcode:\"\",validity:\"\",difficulty:\"\",question:\"\",option1:\"\",option2:\"\",option3:\"\",option4:\"\",answer:\"\",reference:\"\"});const[subjects,setSubjects]=useState([]);const[topcodes,setTopcodes]=useState([]);useEffect(()=>{fetchSubjects();},[]);const fetchSubjects=async()=>{try{const response=await axios.get(\"https://railwaymcq.com/student/subMaster_api.php\");setSubjects(response.data);console.log(\"Subject Code is ::::::-\"+formData.subcode);}catch(error){console.error(error);}};const fetchTopcodes=async subcode=>{try{const response=await axios.get(\"https://railwaymcq.com/student/topicMaster_api.php?subcode=\".concat(subcode));setTopcodes(response.data);}catch(error){console.error(error);setTopcodes([]);// Clear topcodes if fetching fails\n}};const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});if(name===\"subcode\"){console.log(formData);fetchTopcodes(value);// Fetch topcodes when subcode changes\n}};const handleInsert=async()=>{try{// Qbank_op_api.php\nawait axios.post(\"https://railwaymcq.com/student/Qbank_op_api.php\",formData);alert(\"Data inserted successfully!\");}catch(error){console.error(error);alert(\"Failed to insert data!\");}};const handleUpdate=async()=>{try{await axios.post(\"http://your-php-api-url/update.php\",formData);alert(\"Data updated successfully!\");}catch(error){console.error(error);alert(\"Failed to update data!\");}};const handleDelete=async()=>{try{await axios.post(\"http://your-php-api-url/delete.php?id=\".concat(formData.qcode));alert(\"Data deleted successfully!\");}catch(error){console.error(error);alert(\"Failed to delete data!\");}};console.log(formData);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Qbank Page\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"subcode\"//   value={formData.subcode}\n,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Subject\"},\"default\"),subjects.map((subject,index)=>/*#__PURE__*/_jsxs(\"option\",{value:subject.subcode,children:[subject.sub,\"+\",subject.subcode]},index))]}),/*#__PURE__*/_jsxs(\"select\",{name:\"topcode\",value:formData.topcode,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Topic\"}),topcodes.map(topcode=>/*#__PURE__*/_jsx(\"option\",{value:topcode.topcode,children:topcode.topic},topcode.topcode))]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"validity\",value:formData.validity,onChange:handleInputChange,placeholder:\"Validity\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"difficulty\",value:formData.difficulty,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Difficulty\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Easy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Hard\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"question\",value:formData.question,onChange:handleInputChange,placeholder:\"Question\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"option1\",value:formData.option1,onChange:handleInputChange,placeholder:\"Option 1\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"option2\",value:formData.option2,onChange:handleInputChange,placeholder:\"Option 2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"option3\",value:formData.option3,onChange:handleInputChange,placeholder:\"Option 3\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"option4\",value:formData.option4,onChange:handleInputChange,placeholder:\"Option 4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"answer\",value:formData.answer,onChange:handleInputChange,placeholder:\"Answer\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"reference\",value:formData.reference,onChange:handleInputChange,placeholder:\"Reference\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleInsert,children:\"Insert\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleUpdate,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleDelete,children:\"Delete\"})]})]});};export default QbankMaster;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","QbankMaster","formData","setFormData","subcode","topcode","validity","difficulty","question","option1","option2","option3","option4","answer","reference","subjects","setSubjects","topcodes","setTopcodes","fetchSubjects","response","get","data","console","log","error","fetchTopcodes","concat","handleInputChange","e","name","value","target","handleInsert","post","alert","handleUpdate","handleDelete","qcode","children","onChange","map","subject","index","sub","topic","type","placeholder","onClick"],"sources":["C:/Users/hp/Desktop/project/test/src/Component/QbankMaster.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst QbankMaster = () => {\r\n  const [formData, setFormData] = useState({\r\n    subcode: \"\", // Initial value should match this\r\n    topcode: \"\",\r\n    validity: \"\",\r\n    difficulty: \"\",\r\n    question: \"\",\r\n    option1: \"\",\r\n    option2: \"\",\r\n    option3: \"\",\r\n    option4: \"\",\r\n    answer: \"\",\r\n    reference: \"\",\r\n  });\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [topcodes, setTopcodes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchSubjects();\r\n  }, []);\r\n\r\n  const fetchSubjects = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        \"https://railwaymcq.com/student/subMaster_api.php\"\r\n      );\r\n      setSubjects(response.data);\r\n      console.log(\"Subject Code is ::::::-\" + formData.subcode);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const fetchTopcodes = async (subcode) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://railwaymcq.com/student/topicMaster_api.php?subcode=${subcode}`\r\n      );\r\n      setTopcodes(response.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setTopcodes([]); // Clear topcodes if fetching fails\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n    if (name === \"subcode\") {\r\n      console.log(formData);\r\n\r\n      fetchTopcodes(value); // Fetch topcodes when subcode changes\r\n    }\r\n  };\r\n  const handleInsert = async () => {\r\n    try {\r\n      // Qbank_op_api.php\r\n      await axios.post(\r\n        \"https://railwaymcq.com/student/Qbank_op_api.php\",\r\n        formData\r\n      );\r\n      alert(\"Data inserted successfully!\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Failed to insert data!\");\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      await axios.post(\"http://your-php-api-url/update.php\", formData);\r\n      alert(\"Data updated successfully!\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Failed to update data!\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axios.post(\r\n        `http://your-php-api-url/delete.php?id=${formData.qcode}`\r\n      );\r\n      alert(\"Data deleted successfully!\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Failed to delete data!\");\r\n    }\r\n  };\r\n  console.log(formData);\r\n  return (\r\n    <div>\r\n      <h2>Qbank Page</h2>\r\n      <form>\r\n        <select\r\n          name=\"subcode\"\r\n          //   value={formData.subcode}\r\n          onChange={handleInputChange}\r\n        >\r\n          <option key=\"default\" value=\"\">\r\n            Select Subject\r\n          </option>\r\n          {subjects.map((subject, index) => (\r\n            <option key={index} value={subject.subcode}>\r\n              {subject.sub}+{subject.subcode}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <select\r\n          name=\"topcode\"\r\n          value={formData.topcode}\r\n          onChange={handleInputChange}\r\n        >\r\n          <option value=\"\">Select Topic</option>\r\n          {topcodes.map((topcode) => (\r\n            <option key={topcode.topcode} value={topcode.topcode}>\r\n              {topcode.topic}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <input\r\n          type=\"text\"\r\n          name=\"validity\"\r\n          value={formData.validity}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Validity\"\r\n        />\r\n        <select\r\n          name=\"difficulty\"\r\n          value={formData.difficulty}\r\n          onChange={handleInputChange}\r\n        >\r\n          <option value=\"\">Select Difficulty</option>\r\n          <option value=\"1\">Easy</option>\r\n          <option value=\"2\">Medium</option>\r\n          <option value=\"3\">Hard</option>\r\n        </select>\r\n        <input\r\n          type=\"text\"\r\n          name=\"question\"\r\n          value={formData.question}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Question\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"option1\"\r\n          value={formData.option1}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Option 1\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"option2\"\r\n          value={formData.option2}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Option 2\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"option3\"\r\n          value={formData.option3}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Option 3\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"option4\"\r\n          value={formData.option4}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Option 4\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"answer\"\r\n          value={formData.answer}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Answer\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"reference\"\r\n          value={formData.reference}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Reference\"\r\n        />\r\n        <button type=\"button\" onClick={handleInsert}>\r\n          Insert\r\n        </button>\r\n        <button type=\"button\" onClick={handleUpdate}>\r\n          Update\r\n        </button>\r\n        <button type=\"button\" onClick={handleDelete}>\r\n          Delete\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QbankMaster;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}